<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="asr0421p1.ASR.ASRWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:asr0421p1.ASR"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d" 
    x:Name="_AsrWindow_" 
    Title="ASRWindow">

    <Grid Background="#171E24" x:Name="_MainGrid_">
        <Grid.Resources>
            <!-- 颜色定义 -->
            <SolidColorBrush x:Key="ButtonBackground" Color="#333"/>
            <SolidColorBrush x:Key="ButtonForeground" Color="White"/>
            <SolidColorBrush x:Key="NeonBlue" Color="#00FFFF"/>

            <!-- 按钮样式 -->
            <Style x:Key="ModernRoundButtonStyle" TargetType="Button">
                <Setter Property="Background" Value="{StaticResource ButtonBackground}"/>
                <Setter Property="Foreground" Value="{StaticResource ButtonForeground}"/>
                <Setter Property="BorderBrush" Value="Transparent"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="CornerRadius" Value="40"/>
                <Setter Property="Padding" Value="0"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Grid>
                                <!-- 外发光层 -->
                                <Border x:Name="GlowEffect"
                                CornerRadius="{TemplateBinding CornerRadius}"
                                Opacity="0"
                                Margin="-4">
                                    <Border.Background>
                                        <RadialGradientBrush>
                                            <GradientStop Color="Red" Offset="0"/>
                                            <GradientStop Color="Transparent" Offset="1"/>
                                        </RadialGradientBrush>
                                    </Border.Background>
                                </Border>

                                <!-- 按钮主体 -->
                                <Border x:Name="ButtonBorder"
                                Background="{TemplateBinding Background}"
                                CornerRadius="{TemplateBinding CornerRadius}">
                                    <ContentPresenter x:Name="ContentPresenter"
                                            Content="{TemplateBinding Content}"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"/>
                                </Border>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
        </Grid.Resources>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!--翻译方向选择区域-->

        <Grid x:Name="TitleBar"
              Background="Transparent"
              Margin="10"
              PointerPressed="DragArea_PointerPressed"
              PointerReleased="DragArea_PointerReleased"
              PointerMoved="DragArea_PointerMoved">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="0" >
                <TextBlock x:Name="StatusTextBlock" Foreground="White" Margin="10,0"/>
            </StackPanel>

            <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Top">
                <!--关闭按钮-->
                <Button Content="✕" FontSize="16" FontWeight="ExtraBold" Padding="0"  Width="35" Height="35" Foreground="#FFFFFF" Background="#333" BorderThickness="0" VerticalAlignment="Center" 
                            Click="CloseButton_Click"/>
            </StackPanel>

        </Grid>

        <ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto">
            <StackPanel x:Name="ResultsPanel">
                <RichTextBlock FontSize="16" LineHeight="30" HorizontalAlignment="Center">
                    <Paragraph>
                        <Run Text="识别结果将显示在这里..." Foreground="Wheat" FontSize="16"/>

                    </Paragraph>
                </RichTextBlock>
            </StackPanel>
        </ScrollViewer>

        <StackPanel Grid.Row="3" Orientation="Horizontal" Background="Transparent">
            <!--中译英按钮-->
            <Grid >
                <!-- 主按钮 -->
                <Button x:Name="ChineseToEnglishButton" Width="80" Height="80" Margin="10"
                Content="Start"
                Style="{StaticResource ModernRoundButtonStyle}"/>

                <Border  Background="Transparent" 
                         Width="{Binding Path=ActualWidth, ElementName=ChineseToEnglishButton}"
                         Height="{Binding Path=ActualHeight, ElementName=ChineseToEnglishButton}"
                         BorderThickness="1" VerticalAlignment="Center"
                         PointerPressed="ChineseToEnglishButton_PointerPressed"
                         PointerReleased="Button_PointerReleased"
                         PointerExited="Button_PointerReleased">
                </Border>
            </Grid>
        </StackPanel>
    </Grid>

</Window>
 